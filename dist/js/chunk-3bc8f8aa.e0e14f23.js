(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bc8f8aa"],{"6fba":function(t,e,a){},7238:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"modal"},[a("regulation")],1),t._m(0),t._l(t.DATA_REGULATIONS.regulations,(function(e,n){return a("div",{key:e.url,staticClass:"col s12 m6 l4"},[a("div",{staticClass:"card-panel white"},[a("div",{staticClass:"wrapper-img"},[a("img",{attrs:{alt:"Положение",width:"100%",src:e.img}}),a("a",{staticClass:"btn-small waves-effect waves-light change-img",on:{click:function(e){return t.showImgInput(e)}}},[a("i",{staticClass:"material-icons"},[t._v("edit")])])]),a("div",{staticClass:"row hide div-udt-title"},[a("div",{staticClass:"input-field col s12"},[a("input",{staticClass:"validate",attrs:{"data-url":e.url,id:e.url,type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeImg()}}}),a("button",{staticClass:"btn-small btn-sending",on:{click:function(e){return t.changeImg()}}},[a("i",{staticClass:"material-icons"},[t._v("send")])]),a("label",{attrs:{for:e.url}},[t._v("Ссылка на фото")])])]),a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(e.title))]),a("a",{staticClass:"btn-flat pointer",on:{click:function(e){return t.showTitleInput(e)}}},[a("i",{staticClass:"material-icons"},[t._v("edit")])]),a("div",{staticClass:"row hide div-udt-name"},[a("div",{staticClass:"input-field col s12"},[a("input",{attrs:{"data-url":e.url,id:e.url+n,type:"text","data-length":"15"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeTitleRegulation()}}}),a("button",{staticClass:"btn-small btn-sending",on:{click:function(e){return t.changeTitleRegulation()}}},[a("i",{staticClass:"material-icons"},[t._v("send")])]),a("span",{staticClass:"hide red-text",staticStyle:{"padding-left":"5px"}},[t._v("Поле не должно быть пустым и не более 15 символов")]),a("label",{attrs:{for:e.url+n}},[t._v("Имя положения")])])]),a("div",{staticClass:"switch right"},[a("label",[t._v(" Выкл. "),a("input",{attrs:{"data-url":e.url,type:"checkbox"},domProps:{checked:e.show},on:{change:function(e){return t.onChange(e)}}}),a("span",{staticClass:"lever"}),t._v(" Вкл. ")])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"btn-wrapper row",staticStyle:{"margin-bottom":"0"}},[a("a",{staticClass:"waves-effect waves-light btn btn-small",attrs:{"data-id":e.id},on:{click:function(e){return t.getSomeRegulation(e)}}},[t._v("Редактировать")])])])])}))],2)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[a("h3",[t._v("Положение")])])}],s=(a("c975"),a("baa5"),a("96cf"),a("1da1")),r=a("5530"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"regulation-page",on:{click:function(e){return t.removeAllInputs(e)}}},[a("h3",[t._v("Положение")]),t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12",on:{dblclick:function(e){return e.preventDefault(),t.createInput(e)}}},[a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.title)}},[t._v(t._s(t.REGULATION_DATA.title))]),a("span",{staticClass:"description",attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.description),"data-name2":t.getKey(t.REGULATION_DATA.description,t.REGULATION_DATA.description.description)}},[t._v(" "+t._s(t.REGULATION_DATA.description.description))]),a("span",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.description),"data-name2":t.getKey(t.REGULATION_DATA.description,t.REGULATION_DATA.description.date)}},[t._v(" "+t._s(t.REGULATION_DATA.description.date)+" ")]),a("h4",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.category)}},[t._v(" "+t._s(t.REGULATION_DATA.category)+" ")]),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.organizers)}},[t._v(" "+t._s(t.REGULATION_DATA.organizers)+" ")]),a("hr"),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.age)}},[t._v(" "+t._s(t.REGULATION_DATA.age)+" ")]),a("hr"),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.ageCategory),"data-name2":t.getKey(t.REGULATION_DATA.ageCategory,t.REGULATION_DATA.ageCategory.title)}},[t._v(" "+t._s(t.REGULATION_DATA.ageCategory.title)+" ")]),a("ul",t._l(t.REGULATION_DATA.ageCategory.description,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.ageCategory),"data-name2":t.getKey(t.REGULATION_DATA.ageCategory,t.REGULATION_DATA.ageCategory.description)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.nominations),"data-name2":t.getKey(t.REGULATION_DATA.nominations,t.REGULATION_DATA.nominations.title)}},[t._v(" "+t._s(t.REGULATION_DATA.nominations.title)+" ")]),a("h6",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.nominations),"data-name2":t.getKey(t.REGULATION_DATA.nominations,t.REGULATION_DATA.nominations.name)}},[t._v(" "+t._s(t.REGULATION_DATA.nominations.name)+" ")]),a("ul",t._l(t.REGULATION_DATA.nominations.description,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.nominations),"data-name2":t.getKey(t.REGULATION_DATA.nominations,t.REGULATION_DATA.nominations.description)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.criteria),"data-name2":t.getKey(t.REGULATION_DATA.criteria,t.REGULATION_DATA.criteria.title)}},[t._v(" "+t._s(t.REGULATION_DATA.criteria.title)+" ")]),a("ul",t._l(t.REGULATION_DATA.criteria.description,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.criteria),"data-name2":t.getKey(t.REGULATION_DATA.criteria,t.REGULATION_DATA.criteria.description)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.terms),"data-name2":t.getKey(t.REGULATION_DATA.terms,t.REGULATION_DATA.terms.title)}},[t._v(" "+t._s(t.REGULATION_DATA.terms.title)+" ")]),a("ul",t._l(t.REGULATION_DATA.terms.description,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.terms),"data-name2":t.getKey(t.REGULATION_DATA.terms,t.REGULATION_DATA.terms.description)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.awards),"data-name2":t.getKey(t.REGULATION_DATA.awards,t.REGULATION_DATA.awards.title)}},[t._v(" "+t._s(t.REGULATION_DATA.awards.title)+" ")]),a("ul",t._l(t.REGULATION_DATA.awards.places,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.awards),"data-name2":t.getKey(t.REGULATION_DATA.awards,t.REGULATION_DATA.awards.places)}},[t._v(" "+t._s(e)+" ")])})),0),a("ul",t._l(t.REGULATION_DATA.awards.diplomas,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.awards),"data-name2":t.getKey(t.REGULATION_DATA.awards,t.REGULATION_DATA.awards.diplomas)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.finance),"data-name2":t.getKey(t.REGULATION_DATA.finance,t.REGULATION_DATA.finance.title)}},[t._v(" "+t._s(t.REGULATION_DATA.finance.title)+" ")]),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.finance),"data-name2":t.getKey(t.REGULATION_DATA.finance,t.REGULATION_DATA.finance.desc1)}},[t._v(" "+t._s(t.REGULATION_DATA.finance.desc1)+" ")]),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.finance),"data-name2":t.getKey(t.REGULATION_DATA.finance,t.REGULATION_DATA.finance.desc2)}},[t._v(" "+t._s(t.REGULATION_DATA.finance.desc2)+" ")]),a("ul",t._l(t.REGULATION_DATA.finance.fields,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.finance),"data-name2":t.getKey(t.REGULATION_DATA.finance,t.REGULATION_DATA.finance.fields)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.note),"data-name2":t.getKey(t.REGULATION_DATA.note,t.REGULATION_DATA.note.title)}},[t._v(" "+t._s(t.REGULATION_DATA.note.title)+" ")]),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.note),"data-name2":t.getKey(t.REGULATION_DATA.note,t.REGULATION_DATA.note.description)}},[t._v(" "+t._s(t.REGULATION_DATA.note.description)+" ")]),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.privileges),"data-name2":t.getKey(t.REGULATION_DATA.privileges,t.REGULATION_DATA.privileges.title)}},[t._v(" "+t._s(t.REGULATION_DATA.privileges.title)+" ")]),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.privileges),"data-name2":t.getKey(t.REGULATION_DATA.privileges,t.REGULATION_DATA.privileges.desc1)}},[t._v(" "+t._s(t.REGULATION_DATA.privileges.desc1)+" ")]),a("p",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.privileges),"data-name2":t.getKey(t.REGULATION_DATA.privileges,t.REGULATION_DATA.privileges.desc2)}},[t._v(" "+t._s(t.REGULATION_DATA.privileges.desc2)+" ")]),a("ul",t._l(t.REGULATION_DATA.privileges.fields,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.privileges),"data-name2":t.getKey(t.REGULATION_DATA.privileges,t.REGULATION_DATA.privileges.fields)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.request),"data-name2":t.getKey(t.REGULATION_DATA.request,t.REGULATION_DATA.request.title)}},[t._v(" "+t._s(t.REGULATION_DATA.request.title)+" ")]),a("ul",t._l(t.REGULATION_DATA.request.fields,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.request),"data-name2":t.getKey(t.REGULATION_DATA.request,t.REGULATION_DATA.request.fields)}},[t._v(" "+t._s(e)+" ")])})),0),a("h5",{attrs:{"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.contacts),"data-name2":t.getKey(t.REGULATION_DATA.contacts,t.REGULATION_DATA.contacts.title)}},[t._v(" "+t._s(t.REGULATION_DATA.contacts.title)+" ")]),a("ul",t._l(t.REGULATION_DATA.contacts.fields,(function(e,n){return a("li",{attrs:{"data-idx":n,"data-name":t.getKey(t.REGULATION_DATA,t.REGULATION_DATA.contacts),"data-name2":t.getKey(t.REGULATION_DATA.contacts,t.REGULATION_DATA.contacts.fields)}},[t._v(" "+t._s(e)+" ")])})),0)])])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("i",{staticClass:"material-icons"},[t._v("info_outline")]),t._v("Для редактирования кликните два раза на поле.")])}],l=(a("7db0"),a("4160"),a("b0c0"),a("b64b"),a("498a"),a("159b"),a("2f62")),d=a("b444"),u={name:"regulation",data:function(){return{input:"",button:"",div:"",elem:""}},computed:Object(r["a"])({},Object(l["c"])(["REGULATION_DATA"])),methods:{getKey:function(t,e){return Object.keys(t).find((function(a){return t[a]===e}))},removeAllInputs:function(t){if("INPUT"!==t.target.tagName&&"A"!==t.target.tagName){var e=this.$el.querySelectorAll(".input-field");e.length&&e.forEach((function(t){return t.remove()}))}},createInput:function(t){var e=this;this.elem=t.target,t.target.nextSibling&&"input-field"===t.target.nextSibling.className||"INPUT"===t.target.tagName||(this.div=document.createElement("div"),this.div.classList.add("input-field"),this.input=document.createElement("input"),this.input.setAttribute("type","text"),this.input.required=!0,this.button=document.createElement("a"),this.button.classList.add("btn-small","btn-save-field"),this.button.addEventListener("click",(function(){return e.changeField(t)})),this.button.textContent="изменить",this.div.append(this.input),this.div.append(this.button),t.target.after(this.div))},changeField:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.target.nextSibling.querySelector("input"),a.value.length){t.next=7;break}return a.classList.add("invalid"),this.$error("Поле не должно быть пустым"),t.abrupt("return");case 7:a.classList.remove("invalid");case 8:return n={id:this.REGULATION_DATA._id,index:this.elem.dataset.idx,name:this.elem.dataset.name,name2:this.elem.dataset.name2,value:this.elem.textContent.trim(),candidate:a.value},t.prev=9,t.next=12,this.$store.dispatch("updateRegulationData",n);case 12:i=t.sent,this.$store.state.regulation=i.data,this.$done(d["a"][i.statusText]),a.value="",t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](9),this.$error(t.t0.response.data.message),a.value="";case 22:case"end":return t.stop()}}),t,this,[[9,18]])})));function e(e){return t.apply(this,arguments)}return e}()}},o=u,T=(a("8cb5"),a("2877")),_=Object(T["a"])(o,A,c,!1,null,null,null),g=_.exports,p={name:"regulations",components:{regulation:g},data:function(){return{div:"",div2:"",input1:"",input2:"",error:"",modal:""}},computed:Object(r["a"])({},Object(l["c"])(["DATA_REGULATIONS"])),methods:Object(r["a"])(Object(r["a"])({},Object(l["b"])(["GET_REGULATIONS_PAGES"])),{},{onChange:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch("isShow",{url:t.target.dataset.url,show:t.target.checked});case 3:n=a.sent,200===n.status&&(e.$store.state.regulations=n.data,e.$done(d["a"][n.statusText])),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),e.$error(a.t0.response.data.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},changeImg:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.input1.value.length){e.next=6;break}return t.input1.classList.add("invalid"),t.$error("Поле не должно быть пустым"),e.abrupt("return");case 6:t.input1.classList.remove("invalid");case 7:return a=t.input1.value.indexOf("d/"),n=t.input1.value.lastIndexOf("/view"),i=t.input1.value.substring(a+2,n),e.prev=10,e.next=13,t.$store.dispatch("updateImgLink",{url:t.input1.dataset.url,img:"https://docs.google.com/uc?id=".concat(i)});case 13:s=e.sent,200===s.status&&(t.$store.state.regulations=s.data,t.$done(d["a"][s.statusText]),t.input1.value="",t.div.classList.add("hide")),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](10),t.$error(e.t0.response.data.message),t.input1.value="";case 21:case"end":return e.stop()}}),e,null,[[10,17]])})))()},changeTitleRegulation:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.input2.value.length&&!(t.input2.value.length>15)){e.next=4;break}return t.error.classList.remove("hide"),t.input2.value="",e.abrupt("return");case 4:return e.prev=4,e.next=7,t.$store.dispatch("updateTileRegulation",{url:t.input2.dataset.url,title:t.input2.value});case 7:a=e.sent,200===a.status&&(t.$store.state.regulations=a.data,t.$done(d["a"][a.statusText]),t.input2.value="",t.div2.classList.add("hide")),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](4),t.$error(e.t0.response.data.message),t.input2.value="";case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))()},showImgInput:function(t){var e=t.target;this.div=e.closest("div").nextSibling,this.input1=this.div.querySelector("input"),"A"!==e.tagName&&"I"!==e.tagName||this.div.classList.remove("hide")},showTitleInput:function(t){var e=t.target;this.div2=e.closest("div").querySelector(".div-udt-name"),this.input2=this.div2.querySelector("input"),this.error=this.div2.querySelector("span"),"A"!==e.tagName&&"I"!==e.tagName||this.div2.classList.remove("hide")},getSomeRegulation:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.target.dataset.id,a.prev=1,a.next=4,e.$store.dispatch("getRegulationData",{id:n});case 4:i=a.sent,e.$store.state.regulation=i.data,e.modal=e.$popup(),s=e.modal.init(e.$el.querySelector(".modal")),s.open(),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()}}),mounted:function(){this.GET_REGULATIONS_PAGES(),this.$counter(this.$el.querySelectorAll("input[type=text]"))},updated:function(){this.$counter(this.$el.querySelectorAll("input[type=text]"))}},O=p,m=(a("ef7c"),Object(T["a"])(O,n,i,!1,null,"6c24e69a",null));e["default"]=m.exports},"79f6":function(t,e,a){},"7db0":function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").find,s=a("44d2"),r=a("ae40"),A="find",c=!0,l=r(A);A in[]&&Array(1)[A]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(A)},"8cb5":function(t,e,a){"use strict";a("79f6")},b444:function(t,e,a){"use strict";e["a"]={logout:"Вы вышли из системы",error:"Необходимо пройти авторизацию. Введите логин и пароль",max:"Допускается не более 10 символов",OK:"Изменения сохранены!"}},baa5:function(t,e,a){var n=a("23e7"),i=a("e58c");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},c975:function(t,e,a){"use strict";var n=a("23e7"),i=a("4d64").indexOf,s=a("a640"),r=a("ae40"),A=[].indexOf,c=!!A&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),d=r("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?A.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},e58c:function(t,e,a){"use strict";var n=a("fc6a"),i=a("a691"),s=a("50c4"),r=a("a640"),A=a("ae40"),c=Math.min,l=[].lastIndexOf,d=!!l&&1/[1].lastIndexOf(1,-0)<0,u=r("lastIndexOf"),o=A("indexOf",{ACCESSORS:!0,1:0}),T=d||!u||!o;t.exports=T?function(t){if(d)return l.apply(this,arguments)||0;var e=n(this),a=s(e.length),r=a-1;for(arguments.length>1&&(r=c(r,i(arguments[1]))),r<0&&(r=a+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:l},ef7c:function(t,e,a){"use strict";a("6fba")}}]);
//# sourceMappingURL=chunk-3bc8f8aa.e0e14f23.js.map